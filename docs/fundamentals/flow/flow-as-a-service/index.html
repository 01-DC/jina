<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark">
  <meta property="og:title" content="Serving Flow" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://docs.jina.ai/fundamentals/flow/flow-as-a-service.html" />
  <meta property="og:site_name" content="Jina Documentation" />
  <meta property="og:description" content="If you come to this page, most likely you have already built some cool stuff with Jina and now want to share it to the world. This cookbook will guide you from basic serving for demo purpose to advanced serving in production. Minimum working example: Server from jina import Flow f = Flow(protocol..." />
  <meta property="og:image" content="https://docs.jina.ai/_static/banner.png" />
  <meta property="og:image:alt" content="Jina Documentation" />
  <meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@JinaAI_">
<meta name="twitter:creator" content="@JinaAI_">
<meta name="description" content="Jina is the cloud-native neural search solution powered by the state-of-the-art AI and deep learning">
<meta property="og:description" content="Jina is the cloud-native neural search solution powered by the state-of-the-art AI and deep learning">

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-48ZDWC8GT6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-48ZDWC8GT6');
</script>
    <link rel="index" title="Index" href="../../../genindex/" /><link rel="search" title="Search" href="../../../search/" /><link rel="next" title="Remarks" href="../remarks/" /><link rel="prev" title="Asynchronous Flow" href="../async-flow/" />

    <link rel="shortcut icon" href="../../../_static/favicon.ico"/><meta name="generator" content="sphinx-4.2.0, furo 2021.09.08"/>
        <title>Serving Flow - Jina Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?digest=c7c65a82b42f6b978e58466c1e9ef2509836d916" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.d53ab927f7bad3eaa42da95908504b10.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?digest=16fb25fabf47304eee183a5e9af80b1ba98259b1" />
    <link rel="stylesheet" type="text/css" href="../../../_static/main.css" />
    
    


<style>
  body {
    --color-code-background: #ffffff;
  --color-code-foreground: #4d4d4d;
  --color-brand-primary: #009191;
  --color-brand-content: #009191;
  
  }
  body[data-theme="dark"] {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #FBCB67;
  --color-brand-content: #FBCB67;
  
  }
  @media (prefers-color-scheme: dark) {
    body:not([data-theme="light"]) {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #FBCB67;
  --color-brand-content: #FBCB67;
  
    }
  }
</style></head>
  <body>
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" />
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../"><div class="brand">Jina Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/logo-light.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../_static/logo-dark.svg" alt="Dark Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../../../search/" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Get started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../get-started/neural-search/">What is Neural Search?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../get-started/install/">Install</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../get-started/hello-world/">Run Hello World Demos</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../get-started/hello-world/fashion/">Fashion image search</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../get-started/hello-world/covid-19-chatbot/">Covid-19 chatbot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../get-started/hello-world/multimodal/">Multimodal search</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Fundamentals</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../concepts/">Basic Concepts</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../document/">Document</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../document/document-api/">Document</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../document/documentarray-api/">DocumentArray</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../document/documentarraymemmap-api/">DocumentArrayMemmap</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../executor/">Executor</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../executor/executor-api/">Create Executor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../executor/executor-built-in-features/">Executor Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../executor/executors-in-action/">Executor in Action</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../executor/repository-structure/">Executor File Structure</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../">Flow</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../flow-api/">Create Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../send-recv/">Flow IO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../add-exec-to-flow/">Add Executor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../parallel/">Parallelization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../async-flow/">Asynchronous Flow</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Serving Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../remarks/">Remarks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../clean-code/">Clean &amp; Efficient Code</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../advanced/hub/">Share Executors via Hub</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/hub/create-hub-executor/">Create Executor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/hub/push-executor/">Publish Executor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/hub/use-hub-executor/">Use Hub Executor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/hub/pull-executor/">Pull Executor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/hub/practice-your-learning/">Put into Practice</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/hub/executor-best-practices/">Best Practices</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../advanced/daemon/">Remote Management via JinaD</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/daemon/setup-jinad-server/">Setup JinaD Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/daemon/start-jinad-client/">Start JinaD Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/daemon/workspace/">Workspace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/daemon/create-remote-executors/">Remote Executor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/daemon/create-remote-flows/">Remote Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/daemon/stream-remote-logs/">Streaming Remote Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/daemon/development-using-jinad/">JinaD Development Guides</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../advanced/experimental/"><svg aria-hidden="true" class="sd-octicon sd-octicon-beaker" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M5 5.782V2.5h-.25a.75.75 0 010-1.5h6.5a.75.75 0 010 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458L5 5.782zM9.5 2.5h-3V6a.75.75 0 01-.117.403L4.73 9h6.54L9.617 6.403A.75.75 0 019.5 6V2.5zm-6.9 9.847L3.775 10.5h8.45l1.175 1.847a.75.75 0 01-.633 1.153H3.233a.75.75 0 01-.633-1.153z" fill-rule="evenodd"></path></svg> Experimental Features</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/experimental/kubernetes/">Jina on Kubernetes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/experimental/indexers/">Indexers on Jina Hub</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/fuzzy-grep/">Fuzzy <code class="docutils literal notranslate"><span class="pre">grep</span></code> in 30 Lines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/chatbot/">Building a Simple Chatbot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/master-executor/">Mastering Executors: from Zero to Hub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/gpu-executor/">Run Executors on GPU</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Reference</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api/jina/">jina package</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.clients/">jina.clients package</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.clients.base/">jina.clients.base package</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.clients.base.grpc/">jina.clients.base.grpc module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.clients.base.http/">jina.clients.base.http module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.clients.base.websocket/">jina.clients.base.websocket module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.clients.request/">jina.clients.request package</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.clients.request.asyncio/">jina.clients.request.asyncio module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.clients.request.helper/">jina.clients.request.helper module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.clients.grpc/">jina.clients.grpc module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.clients.helper/">jina.clients.helper module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.clients.http/">jina.clients.http module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.clients.mixin/">jina.clients.mixin module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.clients.websocket/">jina.clients.websocket module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.executors/">jina.executors package</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.executors.decorators/">jina.executors.decorators module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.executors.metas/">jina.executors.metas module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.flow/">jina.flow package</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.flow.asyncio/">jina.flow.asyncio module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.flow.base/">jina.flow.base module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.flow.builder/">jina.flow.builder module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.helloworld/">jina.helloworld package</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.helloworld.chatbot/">jina.helloworld.chatbot package</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.helloworld.chatbot.app/">jina.helloworld.chatbot.app module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.helloworld.chatbot.my_executors/">jina.helloworld.chatbot.my_executors module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.helloworld.fashion/">jina.helloworld.fashion package</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.helloworld.fashion.app/">jina.helloworld.fashion.app module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.helloworld.fashion.helper/">jina.helloworld.fashion.helper module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.helloworld.fashion.my_executors/">jina.helloworld.fashion.my_executors module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.helloworld.multimodal/">jina.helloworld.multimodal package</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.helloworld.multimodal.app/">jina.helloworld.multimodal.app module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.helloworld.multimodal.my_executors/">jina.helloworld.multimodal.my_executors module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.helloworld.fork/">jina.helloworld.fork module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.hubble/">jina.hubble package</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.hubble.helper/">jina.hubble.helper module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.hubble.hubapi/">jina.hubble.hubapi module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.hubble.hubio/">jina.hubble.hubio module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.jaml/">jina.jaml package</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.jaml.parsers/">jina.jaml.parsers package</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/jina.jaml.parsers.default/">jina.jaml.parsers.default package</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.jaml.parsers.default.v1/">jina.jaml.parsers.default.v1 module</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/jina.jaml.parsers.executor/">jina.jaml.parsers.executor package</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.jaml.parsers.executor.legacy/">jina.jaml.parsers.executor.legacy module</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/jina.jaml.parsers.flow/">jina.jaml.parsers.flow package</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.jaml.parsers.flow.legacy/">jina.jaml.parsers.flow.legacy module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.jaml.parsers.flow.v1/">jina.jaml.parsers.flow.v1 module</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.jaml.parsers.base/">jina.jaml.parsers.base module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.jaml.helper/">jina.jaml.helper module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.logging/">jina.logging package</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.logging.formatter/">jina.logging.formatter module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.logging.logger/">jina.logging.logger module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.logging.predefined/">jina.logging.predefined module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.logging.profile/">jina.logging.profile module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.math/">jina.math package</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.math.dimensionality_reduction/">jina.math.dimensionality_reduction module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.math.distance/">jina.math.distance module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.math.helper/">jina.math.helper module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.optimizers/">jina.optimizers package</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.optimizers.discovery/">jina.optimizers.discovery module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.optimizers.flow_runner/">jina.optimizers.flow_runner module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.optimizers.parameters/">jina.optimizers.parameters module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.parsers/">jina.parsers package</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.parsers.hubble/">jina.parsers.hubble package</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.parsers.hubble.pull/">jina.parsers.hubble.pull module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.parsers.hubble.push/">jina.parsers.hubble.push module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.parsers.peapods/">jina.parsers.peapods package</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/jina.parsers.peapods.runtimes/">jina.parsers.peapods.runtimes package</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.parsers.peapods.runtimes.container/">jina.parsers.peapods.runtimes.container module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.parsers.peapods.runtimes.distributed/">jina.parsers.peapods.runtimes.distributed module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.parsers.peapods.runtimes.remote/">jina.parsers.peapods.runtimes.remote module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.parsers.peapods.runtimes.zed/">jina.parsers.peapods.runtimes.zed module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.parsers.peapods.runtimes.zmq/">jina.parsers.peapods.runtimes.zmq module</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.parsers.peapods.base/">jina.parsers.peapods.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.parsers.peapods.pea/">jina.parsers.peapods.pea module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.parsers.peapods.pod/">jina.parsers.peapods.pod module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.parsers.base/">jina.parsers.base module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.parsers.client/">jina.parsers.client module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.parsers.deprecated/">jina.parsers.deprecated module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.parsers.export_api/">jina.parsers.export_api module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.parsers.flow/">jina.parsers.flow module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.parsers.helloworld/">jina.parsers.helloworld module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.parsers.helper/">jina.parsers.helper module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.parsers.optimizer/">jina.parsers.optimizer module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.parsers.ping/">jina.parsers.ping module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.peapods/">jina.peapods package</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.peapods.grpc/">jina.peapods.grpc package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.peapods.peas/">jina.peapods.peas package</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.peapods.peas.helper/">jina.peapods.peas.helper module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.peapods.pods/">jina.peapods.pods package</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/><label for="toctree-checkbox-33"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/jina.peapods.pods.k8slib/">jina.peapods.pods.k8slib package</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/><label for="toctree-checkbox-34"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.peapods.pods.k8slib.kubernetes_deployment/">jina.peapods.pods.k8slib.kubernetes_deployment module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.peapods.pods.k8slib.kubernetes_tools/">jina.peapods.pods.k8slib.kubernetes_tools module</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.peapods.pods.compound/">jina.peapods.pods.compound module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.peapods.pods.factory/">jina.peapods.pods.factory module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.peapods.pods.k8s/">jina.peapods.pods.k8s module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.peapods.runtimes/">jina.peapods.runtimes package</a><input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" role="switch" type="checkbox"/><label for="toctree-checkbox-35"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/jina.peapods.runtimes.container/">jina.peapods.runtimes.container package</a><input class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" role="switch" type="checkbox"/><label for="toctree-checkbox-36"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.peapods.runtimes.container.helper/">jina.peapods.runtimes.container.helper module</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/jina.peapods.runtimes.gateway/">jina.peapods.runtimes.gateway package</a><input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" role="switch" type="checkbox"/><label for="toctree-checkbox-37"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.peapods.runtimes.gateway.grpc/">jina.peapods.runtimes.gateway.grpc package</a></li>
<li class="toctree-l5 has-children"><a class="reference internal" href="../../../api/jina.peapods.runtimes.gateway.http/">jina.peapods.runtimes.gateway.http package</a><input class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" role="switch" type="checkbox"/><label for="toctree-checkbox-38"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../../../api/jina.peapods.runtimes.gateway.http.app/">jina.peapods.runtimes.gateway.http.app module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../api/jina.peapods.runtimes.gateway.http.models/">jina.peapods.runtimes.gateway.http.models module</a></li>
</ul>
</li>
<li class="toctree-l5 has-children"><a class="reference internal" href="../../../api/jina.peapods.runtimes.gateway.websocket/">jina.peapods.runtimes.gateway.websocket package</a><input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" role="switch" type="checkbox"/><label for="toctree-checkbox-39"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../../../api/jina.peapods.runtimes.gateway.websocket.app/">jina.peapods.runtimes.gateway.websocket.app module</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.peapods.runtimes.gateway.prefetch/">jina.peapods.runtimes.gateway.prefetch module</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.peapods.runtimes.grpc/">jina.peapods.runtimes.grpc package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.peapods.runtimes.jinad/">jina.peapods.runtimes.jinad package</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/jina.peapods.runtimes.request_handlers/">jina.peapods.runtimes.request_handlers package</a><input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" role="switch" type="checkbox"/><label for="toctree-checkbox-40"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.peapods.runtimes.request_handlers.data_request_handler/">jina.peapods.runtimes.request_handlers.data_request_handler module</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/jina.peapods.runtimes.zmq/">jina.peapods.runtimes.zmq package</a><input class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" role="switch" type="checkbox"/><label for="toctree-checkbox-41"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.peapods.runtimes.zmq.asyncio/">jina.peapods.runtimes.zmq.asyncio module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.peapods.runtimes.zmq.base/">jina.peapods.runtimes.zmq.base module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.peapods.runtimes.zmq.zed/">jina.peapods.runtimes.zmq.zed module</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.peapods.runtimes.base/">jina.peapods.runtimes.base module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.peapods.zmq/">jina.peapods.zmq package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.peapods.networking/">jina.peapods.networking module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.proto/">jina.proto package</a><input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" role="switch" type="checkbox"/><label for="toctree-checkbox-42"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.proto.jina_pb2/">jina.proto.jina_pb2 module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.proto.jina_pb2_grpc/">jina.proto.jina_pb2_grpc module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.proto.serializer/">jina.proto.serializer module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.schemas/">jina.schemas package</a><input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" role="switch" type="checkbox"/><label for="toctree-checkbox-43"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.schemas.executor/">jina.schemas.executor module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.schemas.flow/">jina.schemas.flow module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.schemas.helper/">jina.schemas.helper module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.schemas.meta/">jina.schemas.meta module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.schemas.pod/">jina.schemas.pod module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/jina.types/">jina.types package</a><input class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" role="switch" type="checkbox"/><label for="toctree-checkbox-44"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.types.arrays/">jina.types.arrays package</a><input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" role="switch" type="checkbox"/><label for="toctree-checkbox-45"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.arrays.abstract/">jina.types.arrays.abstract module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.arrays.bpm/">jina.types.arrays.bpm module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.arrays.chunk/">jina.types.arrays.chunk module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.arrays.document/">jina.types.arrays.document module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.arrays.match/">jina.types.arrays.match module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.arrays.memmap/">jina.types.arrays.memmap module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.arrays.neural_ops/">jina.types.arrays.neural_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.arrays.search_ops/">jina.types.arrays.search_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.arrays.traversable/">jina.types.arrays.traversable module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.types.document/">jina.types.document package</a><input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" role="switch" type="checkbox"/><label for="toctree-checkbox-46"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.document.converters/">jina.types.document.converters module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.document.generators/">jina.types.document.generators module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.document.graph/">jina.types.document.graph module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.document.helper/">jina.types.document.helper module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.document.multimodal/">jina.types.document.multimodal module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.types.message/">jina.types.message package</a><input class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" role="switch" type="checkbox"/><label for="toctree-checkbox-47"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.message.common/">jina.types.message.common module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.types.ndarray/">jina.types.ndarray package</a><input class="toctree-checkbox" id="toctree-checkbox-48" name="toctree-checkbox-48" role="switch" type="checkbox"/><label for="toctree-checkbox-48"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/jina.types.ndarray.dense/">jina.types.ndarray.dense package</a><input class="toctree-checkbox" id="toctree-checkbox-49" name="toctree-checkbox-49" role="switch" type="checkbox"/><label for="toctree-checkbox-49"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.types.ndarray.dense.numpy/">jina.types.ndarray.dense.numpy module</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/jina.types.ndarray.sparse/">jina.types.ndarray.sparse package</a><input class="toctree-checkbox" id="toctree-checkbox-50" name="toctree-checkbox-50" role="switch" type="checkbox"/><label for="toctree-checkbox-50"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.types.ndarray.sparse.numpy/">jina.types.ndarray.sparse.numpy module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.types.ndarray.sparse.pytorch/">jina.types.ndarray.sparse.pytorch module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.types.ndarray.sparse.scipy/">jina.types.ndarray.sparse.scipy module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/jina.types.ndarray.sparse.tensorflow/">jina.types.ndarray.sparse.tensorflow module</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.ndarray.generic/">jina.types.ndarray.generic module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.types.request/">jina.types.request package</a><input class="toctree-checkbox" id="toctree-checkbox-51" name="toctree-checkbox-51" role="switch" type="checkbox"/><label for="toctree-checkbox-51"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.request.control/">jina.types.request.control module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.request.data/">jina.types.request.data module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.request.mixin/">jina.types.request.mixin module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.types.routing/">jina.types.routing package</a><input class="toctree-checkbox" id="toctree-checkbox-52" name="toctree-checkbox-52" role="switch" type="checkbox"/><label for="toctree-checkbox-52"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.routing.table/">jina.types.routing.table module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/jina.types.score/">jina.types.score package</a><input class="toctree-checkbox" id="toctree-checkbox-53" name="toctree-checkbox-53" role="switch" type="checkbox"/><label for="toctree-checkbox-53"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/jina.types.score.map/">jina.types.score.map module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.types.list/">jina.types.list module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.types.mixin/">jina.types.mixin module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/jina.types.struct/">jina.types.struct module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/jina.checker/">jina.checker module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/jina.enums/">jina.enums module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/jina.excepts/">jina.excepts module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/jina.helper/">jina.helper module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/jina.importer/">jina.importer module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../cli/">Jina Command-Line Interface</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../proto/">Jina Protobuf Specification</a><input class="toctree-checkbox" id="toctree-checkbox-54" name="toctree-checkbox-54" role="switch" type="checkbox"/><label for="toctree-checkbox-54"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../proto/docs/">Protocol Documentation</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Support</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/jina-ai/jina/issues">Issue tracker</a></li>
<li class="toctree-l1"><a class="reference external" href="https://slack.jina.ai">Slack community</a></li>
<li class="toctree-l1"><a class="reference external" href="http://youtube.com/c/jina-ai">Youtube</a></li>
<li class="toctree-l1"><a class="reference external" href="https://twitter.com/JinaAI_">Twitter @JinaAI_</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.linkedin.com/company/jinaai/">LinkedIn</a></li>
<li class="toctree-l1"><a class="reference external" href="https://jina.ai">Jina AI Company</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <article role="main">
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <div class="tex2jax_ignore mathjax_ignore section" id="serving-flow">
<h1>Serving Flow<a class="headerlink" href="#serving-flow" title="Permalink to this headline">¶</a></h1>
<p>If you come to this page, most likely you have already built some cool stuff with Jina and now want to share it to the world. This cookbook will
guide you from basic serving for demo purpose to advanced serving in production.</p>
<div class="section" id="minimum-working-example">
<h2>Minimum working example<a class="headerlink" href="#minimum-working-example" title="Permalink to this headline">¶</a></h2>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--0-input--1" name="tab-set--0" type="radio"/><label class="tab-label" for="tab-set--0-input--1">Server</label><div class="tab-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Flow</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Flow</span><span class="p">(</span><span class="n">protocol</span><span class="o">=</span><span class="s1">'grpc'</span><span class="p">,</span> <span class="n">port_expose</span><span class="o">=</span><span class="mi">12345</span><span class="p">)</span>
<span class="k">with</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">block</span><span class="p">()</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--0-input--2" name="tab-set--0" type="radio"/><label class="tab-label" for="tab-set--0-input--2">Client</label><div class="tab-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">Document</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">protocol</span><span class="o">=</span><span class="s1">'grpc'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">12345</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">'/'</span><span class="p">,</span> <span class="n">Document</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="flow-as-a-service">
<h2>Flow-as-a-Service<a class="headerlink" href="#flow-as-a-service" title="Permalink to this headline">¶</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">Flow</span></code> <em>is</em> a service by nature. Though implicitly, you are already using it as a service.</p>
<p>When you start a <code class="docutils literal notranslate"><span class="pre">Flow</span></code> and call <code class="docutils literal notranslate"><span class="pre">.post()</span></code> inside the context, a <code class="docutils literal notranslate"><span class="pre">jina.Client</span></code> object is created and used for
communication.</p>
<div class="figure align-center">
<img alt="../../../_images/implict-vs-explicit-service.svg" src="../../../_images/implict-vs-explicit-service.svg"/></div>
<p>Many times we need to use <code class="docutils literal notranslate"><span class="pre">Flow</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">Client</span></code> in a more explicit way, often due to one of the following reasons:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Flow</span></code> and <code class="docutils literal notranslate"><span class="pre">Client</span></code> are on different machines: one on GPU, one on CPU;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Flow</span></code> and <code class="docutils literal notranslate"><span class="pre">Client</span></code> have different lifetime: one lives longer, one lives shorter;</p></li>
<li><p>Multiple <code class="docutils literal notranslate"><span class="pre">Client</span></code> want to access one <code class="docutils literal notranslate"><span class="pre">Flow</span></code>;</p></li>
<li><p>One <code class="docutils literal notranslate"><span class="pre">Client</span></code> want to interleave its access to multiple <code class="docutils literal notranslate"><span class="pre">Flow</span></code>;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Client</span></code> is browser/curl/Postman.</p></li>
</ul>
<p>Before this cookbook, you are mostly using Flow as an implicit service. In the sequel, we will show you how to serve
Flow in an explicit C/S style.</p>
</div>
<div class="section" id="supported-communication-protocols">
<h2>Supported communication protocols<a class="headerlink" href="#supported-communication-protocols" title="Permalink to this headline">¶</a></h2>
<p>Jina supports <code class="docutils literal notranslate"><span class="pre">grpc</span></code>, <code class="docutils literal notranslate"><span class="pre">websocket</span></code>, <code class="docutils literal notranslate"><span class="pre">http</span></code> three communication protocols between <code class="docutils literal notranslate"><span class="pre">Flow</span></code> and <code class="docutils literal notranslate"><span class="pre">Client</span></code>.</p>
<div class="table-wrapper"><table border="1" class="docutils">
<thead>
<tr>
<th>Protocol</th>
<th>Requirements</th>
<th>Description</th>
<th>Performance on large data</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>grpc</code></td>
<td>-</td>
<td>Default gRPC protocol, mainly for streaming data</td>
<td>Super</td>
</tr>
<tr>
<td><code>websocket</code></td>
<td><code>pip install "jina[client,http]"</code></td>
<td>WebSocket protocol, used in frontend language that supports websocket, mainly for streaming data</td>
<td>Super</td>
</tr>
<tr>
<td><code>http</code></td>
<td><code>pip install "jina[client,http]"</code></td>
<td>HTTP protocol, mainly for allow any client to have HTTP access</td>
<td>Good</td>
</tr>
</tbody>
</table></div>
<p>The protocol is controlled by <code class="docutils literal notranslate"><span class="pre">protocol=</span></code> argument in <code class="docutils literal notranslate"><span class="pre">Flow</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span></code>’s constructor.</p>
<div class="figure align-center">
<img alt="../../../_images/client-server.svg" src="../../../_images/client-server.svg"/></div>
<div class="section" id="via-grpc">
<h3>via gRPC<a class="headerlink" href="#via-grpc" title="Permalink to this headline">¶</a></h3>
<p>On the server-side, create an empty Flow and use <code class="docutils literal notranslate"><span class="pre">.block</span></code> to prevent the process exiting.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Flow</span>

<span class="k">with</span> <span class="n">Flow</span><span class="p">(</span><span class="n">port_expose</span><span class="o">=</span><span class="mi">12345</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">block</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">        gateway@153127[L]:ready and listening</span>
<span class="go">           Flow@153127[I]:🎉 Flow is ready to use!</span>
<span class="go">	🔗 Protocol: 		GRPC</span>
<span class="go">	🏠 Local access:	0.0.0.0:12345</span>
<span class="go">	🔒 Private network:	192.168.1.15:12345</span>
<span class="go">	🌐 Public address:	197.26.36.43:12345</span>
</pre></div>
</div>
<p>Note that the host address is <code class="docutils literal notranslate"><span class="pre">192.168.1.15</span></code> and <code class="docutils literal notranslate"><span class="pre">port_expose</span></code> is <code class="docutils literal notranslate"><span class="pre">12345</span></code>.</p>
<p>While keep this server open, let’s create a client on a different machine:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">'192.168.1.15'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">12345</span><span class="p">)</span>

<span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">GRPCClient@14744[S]:connected to the gateway at 0.0.0.0:12345!</span>
</pre></div>
</div>
</div>
<div class="section" id="via-websocket">
<h3>via WebSocket<a class="headerlink" href="#via-websocket" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Flow</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Flow</span><span class="p">(</span><span class="n">protocol</span><span class="o">=</span><span class="s1">'websocket'</span><span class="p">,</span> <span class="n">port_expose</span><span class="o">=</span><span class="mi">12345</span><span class="p">)</span>
<span class="k">with</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">block</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">        gateway@153127[L]:ready and listening</span>
<span class="go">           Flow@153127[I]:🎉 Flow is ready to use!</span>
<span class="go">	🔗 Protocol: 		WEBSOCKET</span>
<span class="go">	🏠 Local access:	0.0.0.0:12345</span>
<span class="go">	🔒 Private network:	192.168.1.15:12345</span>
<span class="go">	🌐 Public address:	197.26.36.43:12345</span>
</pre></div>
</div>
<p>This will serve the Flow with WebSocket, so any Client connects to it should follow the WebSocket protocol as well.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">protocol</span><span class="o">=</span><span class="s1">'websocket'</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s1">'192.168.1.15'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">12345</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">WebSocketClient@14574[S]:connected to the gateway at 0.0.0.0:12345!</span>
</pre></div>
</div>
</div>
<div class="section" id="via-http">
<h3>via HTTP<a class="headerlink" href="#via-http" title="Permalink to this headline">¶</a></h3>
<p>To enable a Flow to receive from HTTP requests, you can add <code class="docutils literal notranslate"><span class="pre">protocol='http'</span></code> in the Flow constructor.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Flow</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Flow</span><span class="p">(</span><span class="n">protocol</span><span class="o">=</span><span class="s1">'http'</span><span class="p">,</span> <span class="n">port_expose</span><span class="o">=</span><span class="mi">12345</span><span class="p">)</span>

<span class="k">with</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">block</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">        gateway@153127[L]:ready and listening</span>
<span class="go">           Flow@153127[I]:🎉 Flow is ready to use!</span>
<span class="go">	🔗 Protocol: 		HTTP</span>
<span class="go">	🏠 Local access:	0.0.0.0:12345</span>
<span class="go">	🔒 Private network:	192.168.1.15:12345</span>
<span class="go">	🌐 Public address:	197.26.36.43:12345</span>
<span class="go">	💬 Swagger UI:		http://localhost:12345/docs</span>
<span class="go">	📚 Redoc:		http://localhost:12345/redoc</span>
</pre></div>
</div>
</div>
<div class="section" id="switch-between-communication-protocols">
<h3>Switch between communication protocols<a class="headerlink" href="#switch-between-communication-protocols" title="Permalink to this headline">¶</a></h3>
<p>You can switch to other protocol also via <code class="docutils literal notranslate"><span class="pre">.protocol</span></code> property setter. This setter works even in Flow runtime.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Flow</span><span class="p">,</span> <span class="n">Document</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Flow</span><span class="p">(</span><span class="n">protocol</span><span class="o">=</span><span class="s1">'grpc'</span><span class="p">)</span> 

<span class="k">with</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">'/'</span><span class="p">,</span> <span class="n">Document</span><span class="p">())</span>
    <span class="n">f</span><span class="o">.</span><span class="n">protocol</span> <span class="o">=</span> <span class="s1">'http'</span>  <span class="c1"># switch to HTTP protocol request</span>
    <span class="n">f</span><span class="o">.</span><span class="n">block</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="flow-with-http-protocol">
<h2>Flow with HTTP protocol<a class="headerlink" href="#flow-with-http-protocol" title="Permalink to this headline">¶</a></h2>
<div class="section" id="enable-cross-origin-resources-sharing-cors">
<h3>Enable cross-origin-resources-sharing (CORS)<a class="headerlink" href="#enable-cross-origin-resources-sharing-cors" title="Permalink to this headline">¶</a></h3>
<p>CORS is by default disabled for security. That means you can not access the service from a webpage with different domain. To override this, simply do:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Flow</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Flow</span><span class="p">(</span><span class="n">cors</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">protocol</span><span class="o">=</span><span class="s1">'http'</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="use-swagger-ui-to-send-http-request">
<h3>Use swagger UI to send HTTP request<a class="headerlink" href="#use-swagger-ui-to-send-http-request" title="Permalink to this headline">¶</a></h3>
<p>You can navigate to the Swagger docs UI via <code class="docutils literal notranslate"><span class="pre">http://localhost:12345/docs</span></code>:</p>
<div class="figure align-center">
<img alt="../../../_images/swagger-ui.png" src="../../../_images/swagger-ui.png"/>
</div>
</div>
<div class="section" id="use-curl-to-send-http-request">
<h3>Use <code class="docutils literal notranslate"><span class="pre">curl</span></code> to send HTTP request<a class="headerlink" href="#use-curl-to-send-http-request" title="Permalink to this headline">¶</a></h3>
<p>Now you can send data request via <code class="docutils literal notranslate"><span class="pre">curl</span></code>/Postman:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>curl --request POST <span class="s1">'http://localhost:12345/post'</span> --header <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'{"data": [{"text": "hello world"}],"execEndpoint": "/index"}'</span>

<span class="go">{</span>
<span class="go">  "requestId": "e2978837-e5cb-45c6-a36d-588cf9b24309",</span>
<span class="go">  "data": {</span>
<span class="go">    "docs": [</span>
<span class="go">      {</span>
<span class="go">        "id": "84d9538e-f5be-11eb-8383-c7034ef3edd4",</span>
<span class="go">        "granularity": 0,</span>
<span class="go">        "adjacency": 0,</span>
<span class="go">        "parentId": "",</span>
<span class="go">        "text": "hello world",</span>
<span class="go">        "chunks": [],</span>
<span class="go">        "weight": 0.0,</span>
<span class="go">        "matches": [],</span>
<span class="go">        "mimeType": "",</span>
<span class="go">        "tags": {</span>
<span class="go">          "mimeType": "",</span>
<span class="go">          "parentId": ""</span>
<span class="go">        },</span>
<span class="go">        "location": [],</span>
<span class="go">        "offset": 0,</span>
<span class="go">        "embedding": null,</span>
<span class="go">        "scores": {},</span>
<span class="go">        "modality": "",</span>
<span class="go">        "evaluations": {}</span>
<span class="go">      }</span>
<span class="go">    ],</span>
<span class="go">    "groundtruths": []</span>
<span class="go">  },</span>
<span class="go">  "header": {</span>
<span class="go">    "execEndpoint": "/index",</span>
<span class="go">    "targetPeapod": "",</span>
<span class="go">    "noPropagate": false</span>
<span class="go">  },</span>
<span class="go">  "parameters": {},</span>
<span class="go">  "routes": [</span>
<span class="go">    {</span>
<span class="go">      "pod": "gateway",</span>
<span class="go">      "podId": "5742d5dd-43f1-451f-88e7-ece0588b7557",</span>
<span class="go">      "startTime": "2021-08-05T07:26:58.636258+00:00",</span>
<span class="go">      "endTime": "2021-08-05T07:26:58.636910+00:00",</span>
<span class="go">      "status": null</span>
<span class="go">    }</span>
<span class="go">  ],</span>
<span class="go">  "status": {</span>
<span class="go">    "code": 0,</span>
<span class="go">    "description": "",</span>
<span class="go">    "exception": null</span>
<span class="go">  }</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="section" id="use-python-to-send-http-request">
<h3>Use Python to send HTTP request<a class="headerlink" href="#use-python-to-send-http-request" title="Permalink to this headline">¶</a></h3>
<p>One can also use Python Client to send HTTP request, simply:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">protocol</span><span class="o">=</span><span class="s1">'http'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">12345</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">'/'</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<div class="warning admonition">
<p class="admonition-title">Warning</p>
<p>This HTTP client is less-performant on large data, it does not stream. Hence, it should be only used for debugging &amp; testing.</p>
</div>
</div>
<div class="section" id="extend-http-interface">
<h3>Extend HTTP Interface<a class="headerlink" href="#extend-http-interface" title="Permalink to this headline">¶</a></h3>
<p>By default the following endpoints are exposed to the public:</p>
<div class="table-wrapper"><table border="1" class="docutils">
<thead>
<tr>
<th>Endpoint</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/status</code></td>
<td>Check Jina service running status</td>
</tr>
<tr>
<td><code>/post</code></td>
<td>Corresponds to <code>f.post()</code> method in Python</td>
</tr>
<tr>
<td><code>/index</code></td>
<td>Corresponds to <code>f.post('/index')</code> method in Python</td>
</tr>
<tr>
<td><code>/search</code></td>
<td>Corresponds to <code>f.post('/search')</code> method in Python</td>
</tr>
<tr>
<td><code>/update</code></td>
<td>Corresponds to <code>f.post('/update')</code> method in Python</td>
</tr>
<tr>
<td><code>/delete</code></td>
<td>Corresponds to <code>f.post('/delete')</code> method in Python</td>
</tr>
</tbody>
</table></div>
<div class="section" id="hide-crud-and-debug-endpoints-from-http-interface">
<h4>Hide CRUD and debug endpoints from HTTP interface<a class="headerlink" href="#hide-crud-and-debug-endpoints-from-http-interface" title="Permalink to this headline">¶</a></h4>
<p>User can decide to hide CRUD and debug endpoints in production, or when the context is not applicable. For example, in the code snippet below, we didn’t implement any CRUD endpoints for the executor, hence it does not make sense to expose them to public.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Flow</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">Flow</span><span class="p">(</span><span class="n">protocol</span><span class="o">=</span><span class="s1">'http'</span><span class="p">,</span> 
         <span class="n">no_debug_endpoints</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
         <span class="n">no_crud_endpoints</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<img alt="../../../_images/hide-crud-debug-endpoints.png" src="../../../_images/hide-crud-debug-endpoints.png"/>
</div>
</div>
<div class="section" id="expose-customized-endpoints-to-http-interface">
<h4>Expose customized endpoints to HTTP interface<a class="headerlink" href="#expose-customized-endpoints-to-http-interface" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">Flow.expose_endpoint</span></code> can be used to expose executor’s endpoint to HTTP interface, e.g.</p>
<div class="figure align-center">
<img alt="../../../_images/expose-endpoints.svg" src="../../../_images/expose-endpoints.svg"/></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Executor</span><span class="p">,</span> <span class="n">requests</span><span class="p">,</span> <span class="n">Flow</span>

<span class="k">class</span> <span class="nc">MyExec</span><span class="p">(</span><span class="n">Executor</span><span class="p">):</span>

    <span class="nd">@requests</span><span class="p">(</span><span class="n">on</span><span class="o">=</span><span class="s1">'/foo'</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">docs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">pass</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Flow</span><span class="p">(</span><span class="n">protocol</span><span class="o">=</span><span class="s1">'http'</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">uses</span><span class="o">=</span><span class="n">MyExec</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">expose_endpoint</span><span class="p">(</span><span class="s1">'/foo'</span><span class="p">,</span> <span class="n">summary</span><span class="o">=</span><span class="s1">'my endpoint'</span><span class="p">)</span>
<span class="k">with</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">block</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure align-center">
<img alt="../../../_images/customized-foo-endpoint.png" src="../../../_images/customized-foo-endpoint.png"/>
</div>
<p>Now, sending HTTP data request to <code class="docutils literal notranslate"><span class="pre">/foo</span></code> is equivalent as calling <code class="docutils literal notranslate"><span class="pre">f.post('/foo',</span> <span class="pre">...)</span></code> in Python.</p>
<p>You can add more kwargs to build richer semantics on your HTTP endpoint. Those meta information will be rendered by Swagger UI and be forwarded to the OpenAPI schema.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">expose_endpoint</span><span class="p">(</span><span class="s1">'/bar'</span><span class="p">,</span> 
                  <span class="n">summary</span><span class="o">=</span><span class="s1">'my endpoint'</span><span class="p">,</span>
                  <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">'fine-tuning'</span><span class="p">],</span>
                  <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">'PUT'</span><span class="p">]</span>
                  <span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<img alt="../../../_images/rich-openapi.png" src="../../../_images/rich-openapi.png"/>
</div>
</div>
<div class="section" id="add-non-jina-related-routes">
<h4>Add non-Jina related routes<a class="headerlink" href="#add-non-jina-related-routes" title="Permalink to this headline">¶</a></h4>
<p>If you want to add more customized routes, configs, options to HTTP interface, you can simply
override <code class="docutils literal notranslate"><span class="pre">jina.helper.extend_rest_interface</span></code> function as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">jina.helper</span>
<span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Flow</span>


<span class="k">def</span> <span class="nf">extend_rest_function</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'/hello'</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">'My Extended APIs'</span><span class="p">])</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">foo</span><span class="p">():</span>
        <span class="k">return</span> <span class="s1">'hello'</span>

    <span class="k">return</span> <span class="n">app</span>


<span class="n">jina</span><span class="o">.</span><span class="n">helper</span><span class="o">.</span><span class="n">extend_rest_interface</span> <span class="o">=</span> <span class="n">extend_rest_function</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">Flow</span><span class="p">(</span><span class="n">protocol</span><span class="o">=</span><span class="s1">'http'</span><span class="p">)</span>

<span class="k">with</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">block</span><span class="p">()</span>
</pre></div>
</div>
<p>And you will see <code class="docutils literal notranslate"><span class="pre">/hello</span></code> is now available:</p>
<div class="figure align-center">
<img alt="../../../_images/swagger-extend.png" src="../../../_images/swagger-extend.png"/>
</div>
</div>
</div>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../remarks/">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Remarks</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../async-flow/">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Asynchronous Flow</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; Jina AI Limited. All rights reserved.
            |
            Last updated on Sep 15, 2021.
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Serving Flow</a><ul>
<li><a class="reference internal" href="#minimum-working-example">Minimum working example</a></li>
<li><a class="reference internal" href="#flow-as-a-service">Flow-as-a-Service</a></li>
<li><a class="reference internal" href="#supported-communication-protocols">Supported communication protocols</a><ul>
<li><a class="reference internal" href="#via-grpc">via gRPC</a></li>
<li><a class="reference internal" href="#via-websocket">via WebSocket</a></li>
<li><a class="reference internal" href="#via-http">via HTTP</a></li>
<li><a class="reference internal" href="#switch-between-communication-protocols">Switch between communication protocols</a></li>
</ul>
</li>
<li><a class="reference internal" href="#flow-with-http-protocol">Flow with HTTP protocol</a><ul>
<li><a class="reference internal" href="#enable-cross-origin-resources-sharing-cors">Enable cross-origin-resources-sharing (CORS)</a></li>
<li><a class="reference internal" href="#use-swagger-ui-to-send-http-request">Use swagger UI to send HTTP request</a></li>
<li><a class="reference internal" href="#use-curl-to-send-http-request">Use <code class="docutils literal notranslate"><span class="pre">curl</span></code> to send HTTP request</a></li>
<li><a class="reference internal" href="#use-python-to-send-http-request">Use Python to send HTTP request</a></li>
<li><a class="reference internal" href="#extend-http-interface">Extend HTTP Interface</a><ul>
<li><a class="reference internal" href="#hide-crud-and-debug-endpoints-from-http-interface">Hide CRUD and debug endpoints from HTTP interface</a></li>
<li><a class="reference internal" href="#expose-customized-endpoints-to-http-interface">Expose customized endpoints to HTTP interface</a></li>
<li><a class="reference internal" href="#add-non-jina-related-routes">Add non-Jina related routes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/scripts/main.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/tabs.js"></script>
    <script src="../../../_static/design-tabs.js"></script>
    </body>
</html>